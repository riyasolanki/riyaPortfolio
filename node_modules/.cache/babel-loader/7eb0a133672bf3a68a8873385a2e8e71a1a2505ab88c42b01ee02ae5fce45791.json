{"ast":null,"code":"import _regeneratorRuntime from \"D:/Riya/Website/riyaPortfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"D:/Riya/Website/riyaPortfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React, { useContext, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'tiny-invariant';\nimport DocumentContext from './DocumentContext';\nimport OutlineContext from './OutlineContext';\nimport Ref from './Ref';\nimport { isDefined } from './shared/utils';\nfunction useCachedValue(getter) {\n  var ref = useRef();\n  var currentValue = ref.current;\n  if (isDefined(currentValue)) {\n    return function () {\n      return currentValue;\n    };\n  }\n  return function () {\n    var value = getter();\n    ref.current = value;\n    return value;\n  };\n}\nexport default function OutlineItem(props) {\n  var _this = this;\n  var documentContext = useContext(DocumentContext);\n  invariant(documentContext, 'Unable to find Document context. Did you wrap <Outline /> in <Document />?');\n  var outlineContext = useContext(OutlineContext);\n  invariant(outlineContext, 'Unable to find Outline context.');\n  var mergedProps = Object.assign(Object.assign(Object.assign({}, documentContext), outlineContext), props);\n  var item = mergedProps.item,\n    onClickProps = mergedProps.onClick,\n    pdf = mergedProps.pdf,\n    otherProps = __rest(mergedProps, [\"item\", \"onClick\", \"pdf\"]);\n  invariant(pdf, 'Attempted to load an outline, but no document was specified.');\n  var getDestination = useCachedValue(function () {\n    if (typeof item.dest === 'string') {\n      return pdf.getDestination(item.dest);\n    }\n    return item.dest;\n  });\n  var getPageIndex = useCachedValue(function () {\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var destination, _destination, ref;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getDestination();\n          case 2:\n            destination = _context.sent;\n            if (destination) {\n              _context.next = 5;\n              break;\n            }\n            throw new Error('Destination not found.');\n          case 5:\n            _destination = _slicedToArray(destination, 1), ref = _destination[0];\n            return _context.abrupt(\"return\", pdf.getPageIndex(new Ref(ref)));\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n  });\n  var getPageNumber = useCachedValue(function () {\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var pageIndex;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getPageIndex();\n          case 2:\n            pageIndex = _context2.sent;\n            return _context2.abrupt(\"return\", pageIndex + 1);\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n  });\n  function onClick(event) {\n    event.preventDefault();\n    if (!onClickProps) {\n      return false;\n    }\n    return Promise.all([getDestination(), getPageIndex(), getPageNumber()]).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 3),\n        dest = _ref2[0],\n        pageIndex = _ref2[1],\n        pageNumber = _ref2[2];\n      onClickProps({\n        dest: dest,\n        pageIndex: pageIndex,\n        pageNumber: pageNumber\n      });\n    });\n  }\n  function renderSubitems() {\n    if (!item.items || !item.items.length) {\n      return null;\n    }\n    var subitems = item.items;\n    return React.createElement(\"ul\", null, subitems.map(function (subitem, subitemIndex) {\n      return React.createElement(OutlineItem, Object.assign({\n        key: typeof subitem.dest === 'string' ? subitem.dest : subitemIndex,\n        item: subitem\n      }, otherProps));\n    }));\n  }\n  return React.createElement(\"li\", null, React.createElement(\"a\", {\n    href: \"#\",\n    onClick: onClick\n  }, item.title), renderSubitems());\n}\nvar isDestination = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.any)]);\nOutlineItem.propTypes = {\n  item: PropTypes.shape({\n    dest: isDestination,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      dest: isDestination,\n      title: PropTypes.string\n    })),\n    title: PropTypes.string\n  }).isRequired\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}